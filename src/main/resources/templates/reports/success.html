<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${pageTitle}">Report Generated Successfully</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1 class="logo">ArthSethu</h1>
            <p class="tagline">Don't just dream. Calculate.</p>
        </header>
        
        <main class="main-content">
            <div class="success-page" th:if="${report}">
                <div class="success-icon">
                    <div class="checkmark">âœ“</div>
                </div>
                
                <div class="success-content">
                    <h2 class="success-title">Feasibility Report Generated Successfully!</h2>
                    <p class="success-message">
                        Your comprehensive business feasibility analysis for 
                        <strong th:text="${report.businessType}">Business Type</strong> 
                        in <strong th:text="${report.city}">City</strong> 
                        has been completed.
                    </p>
                </div>
                
                <div class="report-preview" th:if="${report.capex != null or report.opex != null}">
                    <h3>Quick Overview</h3>
                    <div class="preview-metrics">
                        <div class="preview-metric" th:if="${report.capex != null}">
                            <span class="metric-label">Total Investment</span>
                            <span class="metric-value" th:text="'â‚¹' + ${#numbers.formatInteger(report.capex, 0, 'COMMA')}">
                                Investment Amount
                            </span>
                        </div>
                        
                        <div class="preview-metric" th:if="${report.breakEvenMonths != null}">
                            <span class="metric-label">Break-even Period</span>
                            <span class="metric-value" th:text="${report.breakEvenMonths} + ' months'">
                                Break-even Time
                            </span>
                        </div>
                    </div>
                </div>
                
                <div class="success-actions">
                    <a th:href="${downloadUrl}" 
                       class="btn btn-primary btn-large"
                       download>
                        <i class="icon-download"></i>
                        Download Your Report
                    </a>
                    
                    <a th:href="@{/reports/{id}(id=${report.id})}" 
                       class="btn btn-secondary">
                        <i class="icon-view"></i>
                        View Report Details
                    </a>
                </div>
                
                <div class="next-steps">
                    <h3>What's Next?</h3>
                    <div class="steps-grid">
                        <div class="step-card">
                            <div class="step-icon">ðŸ“Š</div>
                            <h4>Review Your Report</h4>
                            <p>Analyze the detailed cost breakdown, break-even projections, and strategic recommendations.</p>
                        </div>
                        
                        <div class="step-card">
                            <div class="step-icon">ðŸ’¡</div>
                            <h4>Consult Advisors</h4>
                            <p>Share your report with mentors, investors, or financial advisors for expert guidance.</p>
                        </div>
                        
                        <div class="step-card">
                            <div class="step-icon">ðŸš€</div>
                            <h4>Take Action</h4>
                            <p>Use the insights to refine your business plan and make informed decisions.</p>
                        </div>
                    </div>
                </div>
                
                <div class="upgrade-prompt">
                    <div class="upgrade-card">
                        <h4>Want More Insights?</h4>
                        <p>Upgrade to <strong>Vistar</strong> for operational dashboards and health scoring, or <strong>Shikhar</strong> for AI-powered strategic guidance.</p>
                        <a href="/subscription" class="btn btn-outline">
                            Explore Upgrades
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="error-message" th:if="${error}">
                <div class="alert alert-error">
                    <strong>Error:</strong>
                    <span th:text="${error}">Error message</span>
                </div>
            </div>
        </main>
        
        <footer class="footer">
            <p>&copy; 2024 ArthSethu. All rights reserved.</p>
        </footer>
    </div>
    
    <script th:src="@{/js/app.js}"></script>
</body>
</html>